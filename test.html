<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<script src="js/jquery-1.4.2.js"></script>
<style>
	#canvas{
		width:500px;
		height:500px;
		border: 1px solid #000;
	}
	
	.square{
		position:absolute;
		width:100px;
		height:100px;
		left:100px;
		top:100px;
		background: #000;
	}
	
	.rectangle{
		position:absolute;
		width:100px;
		height:200px;
		left:100px;
		top:100px;
		background: #ccc;
	}
</style>
<script>
/** 
 * @class GameObject 
 * to be considered abstract
 * @constructor
 * @return 
 */
function GameObject(elementClass){
	this._elementClass = elementClass;
	this._element;
	this._canvas;
	this._x;
	this._y;
	this._width;
	this._height;
}

/** 
 * startup method. should be called before anything else
 * creates a DOM element - visual representaion of this object - and adds it to the canvas at the given xy point
 */
GameObject.prototype.activate = function(canvas, x, y){
	this._canvas = canvas;
	this._createElement();
	this._addElementToCanvas();
	this._setSize();
	this.moveTo(x, y);
}

GameObject.prototype._createElement = function(){
	this._element = $('<div class="' + this._elementClass + '"><!-- --></div>');	
}

GameObject.prototype._addElementToCanvas = function(){
	this._canvas.append(this._element);
}

GameObject.prototype._setSize = function(){
	this._width = this._element.width();
	this._height = this._element.height();
}

GameObject.prototype.moveTo = function(x, y){
	this.setX(x);
	this.setY(y);
}
 
GameObject.prototype.setX = function(newPos){
	this._x = newPos;
	this._element.css('left', this._x);
}

GameObject.prototype.getX = function(){
	return this._x;
}

GameObject.prototype.setY = function(newPos){
	this._y = newPos;
	this._element.css('top', this._y);
}

GameObject.prototype.getY = function(){
	return this._y;
}

GameObject.prototype.getWidth = function(){
	return this._width;
}

GameObject.prototype.getHeight = function(){
	return this._height;
}

/** 
 * removes game object's element from DOM
 */
GameObject.prototype.destroy = function(){	
	this._element.remove();
}


/** 
 * @class MovingGameObject 
 * to be considered abstract
 * @constructor
 * @return 
 * @see GameObject GameObject is the base class 
 */
function MovingGameObject(elementClass){
	this._elementClass = elementClass;
	this.movingLeft = false;
	this.movingRight = false;
	this.movingUp = false;
	this.movingDown = false;
}

MovingGameObject.prototype = new GameObject();

/** 
 * should be considered abstract.   
 */
MovingGameObject.prototype.move = function(){
	alert('moving');
}



$(function(){
	gameObject = new GameObject('square');
	gameObject.activate($('#canvas'), 100, 20);
	movingGameObject = new MovingGameObject('rectangle');
	movingGameObject.activate($('#canvas'), 20, 20);
});
</script>
<title>Insert title here</title>
</head>
<body>
<p>Hello World!</p>
<div id="canvas"></div>

</body>
</html>